package net.anei.cadpage.parsers.CO;

import java.util.regex.Pattern;

import net.anei.cadpage.parsers.FieldProgramParser;
import net.anei.cadpage.parsers.MsgInfo.Data;

/*
Golden, CO
Agency name: Golden FD Location: Golden, CO
Sender: messaging@iamresponding.com
 
(Golden Fire) Call#: 122230024*                                                               \n\nTime: 08:25:36*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1270 N FORD ST, GOLDEN*                                               \n\nCross streets: PINE RIDGE RD/ VIRGINIA ST*                                      \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: in dining room/ poss stroke or heart attack                          \n\nnot responsive/                                                                 \n\nborn 19254                                                                      \n\nis c but not resp/ is b/*                                                       \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122230095*                                                               \n\nTime: 16:53:33*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1030 JOHNSON RD U200, GOLDEN*                                         \n\nCross streets: W 10TH AVE/W 14TH AVE*                                           \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: high bp / numbless and tingling                                      \n\napprox 80's female                                                              \n\ncannot move one side / poss stroke                                              \n\nno doc on scene*                                                                \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122230107*                                                               \n\nTime: 18:19:55*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 2011 WASHINGTON AVE, GOLDEN*                                          \n\nCross streets: 20TH ST/ WASHINGTON CIR*                                         \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: elderly fem, diff breathing                                          \n\n82 pulse ox                                                                     \n\ndehydrated                                                                      \n\nis con*                                                                         \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122230113*                                                               \n\nTime: 19:29:45*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1908 PINAL RD, GOLDEN*                                                \n\nCross streets: MT ZION DR/ SMITH RD*                                            \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: rp's husband poss having a heart attack                              \n\nhusband went to store                                                           \n\nrp has parkinson's, hard to understand                                          \n\nso neighbor is on scene trying to "translate"*                                  \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122230116*                                                               \n\nTime: 19:31:53*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 531 SOMERSET DR, GOLDEN*                                              \n\nCross streets: CHELAN ST/ EAGLE RIDGE DR*                                       \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: wife is 43 / unc but breathing                                       \n\nunk how many pills / last 15 minutes                                            \n\nsleeping pills                                                                  \n\nintentional od*                                                                 \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122240049*                                                               \n\nTime: 11:29:38*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 517 15TH ST A2, GOLDEN*                                               \n\nCross streets: EAST ST/ FORD ST*                                                \n\n*                                                                               \n\nNarrative: poss stroke 55 yof                                                   \n\nacting unu                                                                      \n\nnot con / breathing                                                             \n\nposs just out of it                                                             \n\ncannot call rp back / phone disconnected*                                       \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122240086*                                                               \n\nTime: 16:50:13*                                                                 \n\nType of call: Fire Alarm Activation (73)*                                       \n\nLocation: 824 MARSTON TRL, GOLDEN*                                              \n\nCross streets: EAGLE RIDGE DR/ EAGLE RIDGE DR*                                  \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: ind/entire house                                                     \n\npremise 720-771-0383 / nam/seibert*                                             \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122240102*                                                               \n\nTime: 18:46:45*                                                                 \n\nType of call: Fire code/fire ordinance violation*                               \n\nLocation: BRIDGE WASH, 1030 WASHINGTON AVE, GOLDEN*                             \n\nCross streets: 10TH ST/ 11TH ST*                                                \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: respond via foot; sml bonfire just smoldering                        \n\npd on scene                                                                     \n\neast of slide on north side of creek*                                           \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122250065*                                                               \n\nTime: 13:58:26*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: WHITE WATER KAYAK PARK, 1201 10TH ST, GOLDEN*                         \n\nCross streets: MAPLE ST/ MAPLE ST*                                              \n\nUnits: AMR131 DIST1 DIST2*                                                      \n\nNarrative: male dislocated shoulder while kayaking                              \n\nin a lot of pain                                                                \n\ndizzy, but is con                                                               \n\nbreathing                                                                       \n\nfem w/ rhodesian ridgeback dog will                                             \n\nflag down amb*                                                                  \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122250086*                                                               \n\nTime: 16:58:15*                                                                 \n\nType of call: Canyon Call*                                                      \n\nLocation: CCC AT 261, 261 HWY 6 MM, GOLDEN*                                     \n\nCross streets: HWY 93/ HWY 119*                                                 \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: one vehicle accident, unk injuries                                   \n\ncsp en rt*                                                                      \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122250102*                                                               \n\nTime: 18:54:52*                                                                 \n\nType of call: Structure Fire (11)*                                              \n\nLocation: 318 ALLEN ST, GOLDEN*                                                 \n\nCross streets: KIMBALL AVE/ KIMBALL AVE*                                        \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: bbq caught on fire                                                   \n\nposs structures in danger                                                       \n\nhouse                                                                           \n\npropane bbq*                                                                    \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122250109*                                                               \n\nTime: 20:14:08*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 262 MARBLE CIR, GOLDEN*                                               \n\nCross streets: DEER ST/ PINECONE ST*                                            \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: chest pains                                                          \n\nno responding                                                                   \n\n61 yo/m                                                                         \n\nuncon/diff breathing*                                                           \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122250116*                                                               \n\nTime: 21:33:43*                                                                 \n\nType of call: Unknown Injury Traffic Accident*                                  \n\nLocation: HWY 6/W COLFAX AVE, GOLDEN*                                           \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: 3 veh's*                                                             \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122260016*                                                               \n\nTime: 07:28:50*                                                                 \n\nType of call: Fire Alarm Activation (73)*                                       \n\nLocation: 1310 WASHINGTON AVE, GOLDEN*                                          \n\nCross streets: 13TH ST/ 14TH ST*                                                \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: gen fire*                                                            \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122260058*                                                               \n\nTime: 14:41:09*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: ALPINE SLIDE 101, 18301 W COLFAX AVE U101, GOLDEN*                    \n\nCross streets: W COLFAX AVE/ HERITAGE RD*                                       \n\nUnits: AMR132 DIST1 DIST2*                                                      \n\nNarrative: emp poss drug reaction                                               \n\nemp at the top of mtn                                                           \n\n17 yom c/b                                                                      \n\nunk what he took*                                                               \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122260085*                                                               \n\nTime: 19:03:41*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 423 CANYON POINT CIR, GOLDEN*                                         \n\nCross streets: MAGPIE CT/ VALLEY VIEW CT*                                       \n\nUnits: AMR131 DIST1 DIST2*                                                      \n\nNarrative: poss partial choking                                                 \n\nfemale 61 c/b diff breathing                                                    \n\nis getting air                                                                  \n\n2a1 code from pd*                                                               \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122260093*                                                               \n\nTime: 20:45:23*                                                                 \n\nType of call: Extrication/Rescue/Climber (35)*                                  \n\nLocation: MARRIOTT COURTYARD, 14700 W 6TH FRONTAGE RD, GOLDEN*                  \n\nCross streets: GLADIOLA ST/ INDIANA ST*                                         \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: 3 ppl trapped                                                        \n\nnot in distress*                                                                \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270019*                                                               \n\nTime: 05:41:03*                                                                 \n\nType of call: Fire Alarm Activation (73)*                                       \n\nLocation: 17731 W COLFAX AVE, GOLDEN*                                           \n\nCross streets: WEST ST/ LA VETA PASS AVE*                                       \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: gen fire*                                                            \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270024*                                                               \n\nTime: 07:12:24*                                                                 \n\nType of call: Hazardous Material Leak/Spill(41)*                                \n\nLocation: CHEYENNE ST/ 8TH ST, GOLDEN*                                          \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: contractor hit gas line*                                             \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270027*                                                               \n\nTime: 08:01:17*                                                                 \n\nType of call: Vehicle/Car Fire (13)*                                            \n\nLocation: JOHNSON RD/W 10TH AVE, GOLDEN*                                        \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: rps hood smoking                                                     \n\nhood smokeing                                                                   \n\nno flames                                                                       \n\nin right hand lane*                                                             \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270034*                                                               \n\nTime: 09:03:43*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1400 UTAH ST A208, GOLDEN*                                            \n\nCross streets: SOUTH GOLDEN RD/ ULYSSES ST*                                     \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: 6 months old swallowed paper diff breathing                          \n\ncon and breath*                                                                 \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270094*                                                               \n\nTime: 16:29:23*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 660 GOLDEN RIDGE RD U250, GOLDEN*                                     \n\nCross streets: HERITAGE RD/ HERITAGE RD*                                        \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: patient uncon                                                        \n\nbreathing                                                                       \n\n52 yo male*                                                                     \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270103*                                                               \n\nTime: 17:17:41*                                                                 \n\nType of call: AGENCY ASSIST - AMBULANCE*                                        \n\nLocation: 1270 N FORD ST R1B, GOLDEN*                                           \n\nCross streets: PINE RIDGE RD/ VIRGINIA ST*                                      \n\nUnits: 200 DIST1 DIST2*                                                         \n\nNarrative: unresponsive / not c/ unk b                                          \n\nawake now / 88 yof                                                              \n\nmeadows unit*                                                                   \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122270132*                                                               \n\nTime: 20:43:29*                                                                 \n\nType of call: CSMPD*                                                            \n\nLocation: 1800 W CAMPUS RD, GOLDEN*                                             \n\nCross streets: ELM ST/ 15TH ST*                                                 \n\nUnits: U13 DIST1 DIST2*                                                         \n\nNarrative: general / 303-225-3282*                                              \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122280025*                                                               \n\nTime: 09:00:46*                                                                 \n\nType of call: Vehicle/Car Fire (13)*                                            \n\nLocation: C470 HWY/ I70 HWY, GOLDEN*                                            \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: active flames under car on shoulder                                  \n\nnb c470 right before ramp to i70*                                               \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122280032*                                                               \n\nTime: 10:49:52*                                                                 \n\nType of call: Fire Alarm Activation (73)*                                       \n\nLocation: 1310 WASHINGTON AVE, GOLDEN*                                          \n\nCross streets: 13TH ST/ 14TH ST*                                                \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: gen fire*                                                            \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122280043*                                                               \n\nTime: 12:12:39*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1549 COUGAR CT, GOLDEN*                                               \n\nCross streets: CANYON POINT CIR/ CANYON POINT CIR*                              \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: wife fell and is not responding                                      \n\n76 yo f                                                                         \n\nis c and b*                                                                     \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122280083*                                                               \n\nTime: 17:18:53*                                                                 \n\nType of call: Other Fire (16)*                                                  \n\nLocation: EAGLE RIDGE DR/ HERITAGE RD, GOLDEN*                                  \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: parasailor is spinning out of control                                \n\nnot landed/drifting towards golden ridge condos                                 \n\nsail is blu with orng in blk suit                                               \n\nrp standing at corner                                                           \n\nnow floating towards the south side of county                                   \n\nbuilding                                                                        \n\ncloswer to the ground                                                           \n\n2nd caller 405 513 4332*                                                        \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122290029*                                                               \n\nTime: 07:19:11*                                                                 \n\nType of call: Smoke/Odor Complaint/Call (53)*                                   \n\nLocation: HERITAGE SQUARE, 18301 W COLFAX AVE SHOPS, GOLDEN*                    \n\nCross streets: W COLFAX AVE/ HERITAGE RD*                                       \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: pos fire by heritage square/smoke frm house on hill/ whi             \n\nper rp is a lot of smoke-                                                       \n\nrp is calling at 470/70 interchange*                                            \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122290080*                                                               \n\nTime: 14:02:10*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1270 N FORD ST, GOLDEN*                                               \n\nCross streets: PINE RIDGE RD/ VIRGINIA ST*                                      \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: aired to pd                                                          \n\nres is c/ is b/                                                                 \n\nunresponsive/                                                                   \n\nposs passed out/ unk exact/                                                     \n\n82 yo fem/*                                                                     \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122290115*                                                               \n\nTime: 19:23:38*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 1212 CHEYENNE ST, GOLDEN*                                             \n\nCross streets: 12TH ST/ 13TH ST*                                                \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: 55 yom / c/diff breathing                                            \n\n1/2 address                                                                     \n\naccess off back side                                                            \n\nsays pain all*                                                                  \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122300015*                                                               \n\nTime: 04:15:29*                                                                 \n\nType of call: Fire Alarm Activation (73)*                                       \n\nLocation: 823 RABBIT RUN DR, GOLDEN*                                            \n\nCross streets: EAGLE RIDGE DR/ EAGLE RIDGE DR*                                  \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: gen smoke                                                            \n\nbrian pam miller                                                                \n\n303 237 2009                                                                    \n\naired to pd/*                                                                   \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122300090*                                                               \n\nTime: 16:56:16*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: 102 N RUBEY DR, GOLDEN*                                               \n\nCross streets: IOWA ST/ WASHINGTON AVE*                                         \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: white honda /                                                        \n\ncannot feel her hands                                                           \n\n32 yof / c/b                                                                    \n\nswaeting a lot*                                                                 \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122300099*                                                               \n\nTime: 19:31:38*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: FIRE STATION 1, 911 10TH ST GFD1, GOLDEN*                             \n\nCross streets: ARAPAHOE ST/ CHEYENNE ST*                                        \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: chest pain / 56 yof                                                  \n\nalso clammy                                                                     \n\nis breathing / right out front*                                                 \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122300104*                                                               \n\nTime: 20:44:40*                                                                 \n\nType of call: Smoke/Odor Complaint/Call (53)*                                   \n\nLocation: 600 IDAHO ST, GOLDEN*                                                 \n\nCross streets: N FORD ST/ COLUMBINE ST*                                         \n\nUnits: DIST1 DIST2*                                                             \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122310025*                                                               \n\nTime: 05:10:05*                                                                 \n\nType of call: Extrication/Rescue/Climber (35)*                                  \n\nLocation: 14600 W 6TH FRONTAGE RD, GOLDEN*                                      \n\nCross streets: GLADIOLA ST/ INDIANA ST*                                         \n\nUnits: DIST1 DIST2*                                                             \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122310043*                                                               \n\nTime: 11:55:56*                                                                 \n\nType of call: Hazardous Material Leak/Spill(41)*                                \n\nLocation: 920 15TH ST R318, GOLDEN*                                             \n\nCross streets: ARAPAHOE ST/ ARAPAHOE ST*                                        \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: fluid in a lab on the floor/about a pint, unk what                   \n\nthe fluid is                                                                    \n\ncoming from under the sink/there are stored materials                           \n\nunder sink                                                                      \n\ncleaning fluids / unk if further under there*                                   \n\n\n\n\n\n\n\n\n\n\n\nThis
(Golden Fire) Call#: 122310051*                                                               \n\nTime: 13:13:43*                                                                 \n\nType of call: Ambulance and Rescue*                                             \n\nLocation: JEFFERSON COUNTY JAIL, 200 JEFFERSON COUNTY PKY, GOLDEN*              \n\nCross streets: W 10TH AVE/W 10TH AVE*                                           \n\nUnits: DIST1 DIST2*                                                             \n\nNarrative: unk party down-emergent-come in thru sally port*                     \n\n\n\n\n\n\n\n\n\n\n\nThis\n\n

 */


public class COGoldenParser extends FieldProgramParser {
  
  private static final Pattern ENDLINE = Pattern.compile("\\s*\n");
  private static final Pattern DELIM = Pattern.compile("\\*\n");
  
  public COGoldenParser() {
    super("GOLDEN", "CO",
           "Call#:ID! Time:TIME! Type_of_call:CALL! Location:ADDR! Cross_streets:X? Units:UNIT? Narrative:INFO");
  }
  
  @Override
  public String getFilter() {
    return "messaging@iamresponding.com";
  }

  @Override
  protected boolean parseMsg(String subject, String body, Data data) {
    if (!subject.equals("Golden Fire")) return false;
    body = ENDLINE.matcher(body).replaceAll("\n");
    return parseFields(DELIM.split(body), 6, data);
  }
  
  private class MyAddressField extends AddressField {
    @Override
    public void parse(String field, Data data) {
      String[] parts = field.split(",");
      if (parts.length < 2 && parts.length > 3) abort();
      if (parts.length == 3) data.strPlace = parts[0].trim();
      parseAddress(parts[parts.length-2].trim(), data);
      data.strCity = parts[parts.length-1].trim();
    }
    
    @Override
    public String getFieldNames() {
      return "PLACE ADDR APT CITY";
    }
  }
  
  @Override
  public Field getField(String name) {
    if (name.equals("ADDR")) return new MyAddressField();
    return super.getField(name);
  }
}
