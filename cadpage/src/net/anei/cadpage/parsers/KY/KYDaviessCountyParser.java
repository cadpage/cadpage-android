package net.anei.cadpage.parsers.KY;

import java.util.regex.Pattern;

import net.anei.cadpage.parsers.CodeSet;
import net.anei.cadpage.parsers.MsgInfo.Data;
import net.anei.cadpage.parsers.dispatch.DispatchBParser;


public class KYDaviessCountyParser extends DispatchBParser {
  
  private static final Pattern US_PTN = Pattern.compile("\\bU +S\\b", Pattern.CASE_INSENSITIVE);
 
  public KYDaviessCountyParser() {
    super(CITY_LIST, "DAVIESS COUNTY", "KY");
    setupCallList(CALL_LIST);
    setupMultiWordStreets(MWORD_STREET_LIST);
    setupSaintNames("BENEDICT");
  }
  
  @Override
  public String getFilter() {
    return "911-CENTER,911CENTRAL,2002";
  }
  
  @Override
  protected boolean parseMsg(String body, Data data) {
    
    // These are the only folks I know who split up US highway prefixes
    body = US_PTN.matcher(body).replaceAll("US");
    return super.parseMsg(body, data);
  }
  
  @Override
  protected boolean isPageMsg(String body) {
    if (body.startsWith("911-CENTER:") || body.startsWith("911CENTRAL")) return true;
    if (body.contains(" Cad:")) return true;
    return super.isPageMsg(body);
  }
  
  private static final String[] MWORD_STREET_LIST = new String[]{
      "BETHEL CHURCH",
      "CRANE POND",
      "DEER TRAIL",
      "HARMONS FERRY",
      "HARVEST HILL",
      "HAYDEN BRIDGE",
      "HEARTLAND CROSSING",
      "HIGHLAND POINTE",
      "HILL BRIDGE",
      "J R MILLER",
      "LEGION PARK",
      "M L KING JR",
      "MARTIN LUTHER KING JR",
      "MILLERS MILL",
      "MT MORIAH",
      "PANTHER CREEK PARK",
      "PARK PLAZA",
      "PLEASANT VALLEY",
      "RED HILL-MAXWELL",
      "SPRING CREEK",
      "ST ANN",
      "SUMMER POINT",
      "TIMBER RIDGE",
      "TODD BRIDGE",
      "TOWNE SQUARE",
      "TWENTY GRAND",
      "WAYNE BRIDGE",
      "WENDELL FORD",
      "WINNING COLORS"
  };
  
  private static final CodeSet CALL_LIST = new CodeSet(
      "911 ACCIDENTAL CALL",
      "911 CALL - NO UNITS DISPATCHED",
      "911 HANG UP CALL",
      "911 PREFIX CALL UNABLE TO CALL",
      "ABDOMINAL PAIN",
      "ABDUCTION OF ATTEMPTED ABDUCTI",
      "ACCIDENT WITH INJURIES",
      "ACCIDENT WITH NO INJURIES",
      "ADD NARRATIVE",
      "AIRCRAFT ALERT",
      "AL CAR ALARM",
      "AL ROBBERY ALARM",
      "ALARM ELEVATOR",
      "ALARM PANIC",
      "ALLERGIC REACTION",
      "ANIMAL COMPLAINT",
      "ARSON",
      "ASSIST ENROUTE (CLI)",
      "ASSIST OTHER AGENCY",
      "ASSUALT",
      "AUTO THEFT",
      "AUTOMOBILE ACCIDENT DEER",
      "BACK PAIN",
      "BE ON THE LOOKOUT",
      "BIO-HAZARD AND THREATS",
      "BLEEDING",
      "BOMB SQUAD CALL OUT",
      "BOMB THREAT",
      "BREATHING DIFFICULTY",
      "BRIDGE CHECK",
      "BUNCO REPORT",
      "BURGLARY ALARM",
      "BURGLARY ALL OTHER",
      "BURGLARY NOT IN PROGRESS",
      "BURGLARY RESIDENTIAL",
      "BURN SUBJECT",
      "CA JUVENILE CHILD ABUSE",
      "CALL SWITCHED TO COUNTY AGENCY",
      "CALL SWITCHED TO STATE AGENCY",
      "CAR COMPLAINT - UNOCCUPIED",
      "CARBON MONOXIDE ALARM",
      "CARDIAC ARREST",
      "CHEST PAIN\\DISCOMFORT\\TIGHTNES",
      "CHILD ABUSE",
      "CHILD CUSTODY COMPLAINT",
      "CHILD LOCKED IN CAR",
      "CHOKING",
      "CIVIL COMPLAINT",
      "CK PERIODIC CHECK",
      "CORONER CALL OUT",
      "CRIMINAL MISCHIEF",
      "CRUISER REPAIR",
      "CUTTING",
      "D OPEN DOOR",
      "DEATH INVESTIGATION",
      "DIABETIC PROBLEMS",
      "DISTURBANCE DOMESTIC",
      "DISTURBANCE OR FIGHT",
      "DROWNING",
      "DRUG COMPLAINT",
      "DRUNK COMPLAINT",
      "DUI COMPLAINT",
      "ELECTION COMPLAINT",
      "ELECTROCUTION",
      "EPO (SERVING EPO)",
      "EQUIPMENT TESTING FOR DISPATCH",
      "ERT CALL OUT",
      "ESCAPE/WALK OFF FROM JAIL",
      "ESCORT FUNERAL BRIDGE ETC",
      "EXECUTION OF COURT ORDER",
      "EXPLOSION",
      "EXPLOSIVE DISPOSAL",
      "FBI GUN NOTIFICATION/DVO/EPO",
      "FIRE ALARM TESTING",
      "FIRE ALARM",
      "FIRE ARM DISCHARGING",
      "FIRE CHIMNEY",
      "FIRE DUMPSTER",
      "FIRE POLE",
      "FIRE STRUCTURE",
      "FIRE TREE",
      "FIRE VEHICLE",
      "FIREWORKS COMPLAINT",
      "FOLLOW UP COMPLAINT",
      "FORGERY COMPLAINT",
      "FOUND PROPERTY",
      "FRAUD COMPLAINT",
      "GAS DRIVE OFF",
      "GAS LEAK - INSIDE",
      "GAS LEAK - OUTSIDE",
      "GENERATOR TEST",
      "HAASSMENT COMPLAINT",
      "HAZARD IN THE ROAD",
      "HAZARDOUS CHEMICAL COMPLAINT",
      "HEADACHE",
      "HEAT EMERGENCIES",
      "HOMICIDE",
      "HOSTAGE SITUATION",
      "HOUSE CHECK",
      "HUNTING COMPLAINT",
      "ILLEGAL BURNING",
      "ILLEGAL DUMPING",
      "IMPROPER PARKING IN ROAD",
      "INDECENT EXPOSURE",
      "INDUSTRIAL ACCIDENTS",
      "INFORMATION ONLY",
      "JUMPER",
      "JUVENILE COMPLAINT",
      "JUVENILE RUNAWAY",
      "K-9 REQUEST",
      "LIFT ASSIST",
      "LOG INFORMATION",
      "LOST CHILD (WALK AWAY)",
      "LOST PROPERTY",
      "LOT CLEARING",
      "MAN WITH WEAPON",
      "MEDICAL ALARM",
      "MEDICAL EMERGENCY",
      "MEDICAL UNKNOWN",
      "MENTAL COMPLAINT",
      "MESSAGE DELIVERY",
      "MISSING PERSON REPORT",
      "MOTORIST ASSIST",
      "N RAPE NOT IN PROGRESS",
      "NOISE COMPLAINT",
      "NONLISCENSED VEH/ATV/MOTORCYCL",
      "OUT OF COUNTY TRIP",
      "PARKING COMPLAINT",
      "PARTY COMPLAINT",
      "PERSON DOWN",
      "POISONING",
      "PREGNANCY/OB/GYN",
      "PRISONER TRANSPORT WESTERN ST",
      "PRISONER TRANSPORT",
      "PRISONER",
      "PROPERTY DAMAGE STORM RELATED",
      "PROPERTY DMG NON WEATHER",
      "PROWLER OR PEEPING TOM",
      "PSYCHIATRIC PROBLEM",
      "PT CHECK POINT",
      "PUBLIC SAFETY COMMUNICATION",
      "PURSUIT",
      "RADIO PROBLEMS",
      "RANGE ACTIVATION (TRAINING)",
      "RAPE IN PROGRESS",
      "RECKLESS DRIVING",
      "RECOVERED PROPERTY",
      "RESPOSSESSION",
      "ROBBERY",
      "SA JUVENILE SEXUAL ABUSE REPORT",
      "SCHOOL TRAFFIC",
      "SEIZURES",
      "SELF INITATED",
      "SERVICE CALL NON-EMERGENCY FIR",
      "SERVICE CALL SHERIFF",
      "SERVICE CALL",
      "SEXUAL ABUSE OF AN ADULT",
      "SHOOTING",
      "SHOPLIFTING COMPLAINT",
      "SMOKING ORDINANCE VIOLATION",
      "STABBING SHOOTING PENETRATING",
      "STANDBY",
      "STROKE",
      "SUBJECT PURSUIT",
      "SUICIDE THREAT OR ATTEMPT",
      "SUSP INDIVIDUAL ON SCENE (CLI)",
      "SUSP PERSON/VEH ON SCENE (CLI)",
      "SUSPICIOUS CIRCUMSTANCES",
      "TAPE CHANGE FOR IN CAR VIDEO",
      "TDD TEST",
      "TERRORISTIC THREATENING",
      "TEST",
      "THEFT COMPLAINT",
      "THEFT FROM AUTO",
      "THEFT FROM",
      "TOBACCO VIOLATION",
      "TOWING COMPLAINT",
      "TR JUVENILE TRANSPORT TO BG",
      "TRAFFIC COMPLAINT",
      "TRAFFIC PURSUIT (CLI)",
      "TRAFFIC STOP (CLI)",
      "TRAFFIC STOP",
      "TRAUMATIC INJURY",
      "TREE DOWN",
      "TRESSPASSING COMPLAINT",
      "UNCONCIOUS",
      "UNDER INVESTIGATION",
      "UNKNOWN/PERSON DOWN",
      "UNLAWFAL USE OF",
      "UNLOCK VEHICLE",
      "VEHICLE INSPECTION",
      "VIOLATION OF AN E.P.O.",
      "WARRANT EMERGENCY MEDICAL",
      "WARRANT SERVICE OR CHECK",
      "WATER EMERGENCY OHIO RIVER",
      "WATER EMERGENCY",
      "WEBCAD EVENT",
      "WELFARE CHECK",
      "WILDLAND FIRE",
      "WIRE DOWN",
      "WRIT OF POSSESSION"
  );
  
  private static final String[] CITY_LIST = new String[]{
      "HARTFORD",
      "OWENSBORO",
      "PHILPOT",
      "UTICA",
  };
}
