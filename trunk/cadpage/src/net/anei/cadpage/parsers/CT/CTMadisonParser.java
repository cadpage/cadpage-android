package net.anei.cadpage.parsers.CT;


import java.util.regex.Matcher;
import java.util.regex.Pattern;

import net.anei.cadpage.parsers.MsgInfo.Data;
import net.anei.cadpage.parsers.SmartAddressParser;

/*
Madison, CT
Contact: Active911
Agency name: Madison EMS Location: Madison, CT 
Sender: mdsn911@gmail.com

Madison: FALLS- BLS COLD*- 17-B-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: UNCONS/FAINTING- NOT ALERT- ALS HOT- 31-D-3  00032  LIBERTY ST  X-STR: -  Hilltop Dr/Grove Ave Premise: 32 LIBERTY ST
Madison: HEART/ BLS COLD - 19-A-1  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: BACK PAIN- BLS COLD- 5-A-1  00146  PRINCESS DR  X-STR: -  RT 79 NORTH/PRINCESS DR LOOP Premise: 146 PRINCESS DR
Madison: BREATHING DISTRESS- ALS HOT- 6-D-1  00049  WHITMAN RD  X-STR: -  Nursery Ln/DEAD END Premise: 49 WHITMAN RD
Madison: TRAUMATIC INJURY/ MINOR- BLS COLD- 30-A-1  01414  DURHAM RD  X-STR: -  ASPEN DR/WHITE CEDAR Premise: 1414 DURHAM RD
Madison: BLEEDING/ BLS HOT- 21-B-2  00048  FLINTLOCK RD  X-STR: -  Hunters Trl/Wildcat Rd Premise: 48 FLINTLOCK RD
Madison: ABDOMINAL PAIN- BLS COLD- 1-A-1  00133  TWIN COVES RD  X-STR: -  Bassett Ln/Bassett Ln Premise: 133 TWIN COVES RD
Madison: BACK PAIN- BLS COLD- 5-A-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: SICK/ NON SPECIFIC - BLS COLD- 26-A-1  00142  TWILIGHT DR  X-STR: -  LAKE DR/TWILIGHT DR LOOP Premise: 142 TWILIGHT DR
Madison: DIABETIC/ NOT ALERT- ALS HOT- 13-C-1  00271  WARPAS RD  X-STR: -  Amber Trl/Copperstone Ln Premise: 271 WARPAS RD
Madison: UNCONS/FAINTING- CARDIAC HIST.- ALS HOT- 31-C-2  SUMMIT LA/ SUFFOLK DR  X-STR:  Premise: SUMMIT LA/ SUFFOLK DR
Madison: MV ACCIDENT-INJURIES  01647  DURHAM RD (CATI)  X-STR: -  GOAT LOT RD/HARRY FIELD RD Premise: 01647  DURHAM RD (CATI)
Madison: BREATHING PROBLEM- ALS HOT- 6-C-1  00070  WOODLAND RD  X-STR: Brantwood Dr/COPSE RD Premise: CONCORD MEADOWS
Madison: BLEEDING/ BLS HOT- 21-B-1  00030  OVERLOOK DR  X-STR: -  ROCKLEDGE DR/DEAD END Premise: 30 OVERLOOK DR
Madison: CHEST PAIN/ NOT ALERT- ALS HOT- 10-D-2  00864  OPENING HILL RD  X-STR: -  RT 79/SPERRY RD Premise: NORTH MADISON FIRE DEPARTMENT
Madison: PSYCH/ NOT SUICIDAL- BLS COLD- 25-A-1  00009  CAMPUS DR  X-STR: -  DUCK HOLE RD /TOWN CAMPUS Premise: MADISON POLICE DEPARTMENT HQ
Madison: MV ACCIDENT-INJURIES  I-95 NB EXIT 61>EXIT 62  X-STR: -   Premise: I-95 NB EXIT 61>EXIT 62
Madison: DIABETIC/ NOT ALERT- ALS HOT- 13-C-1  00282  BOSTON POST RD  X-STR: -  Neck Rd/WHEDON LN Premise: 282 BOSTON POST RD
Madison: BREATHING PROBLEM- ALS HOT- 6-C-1  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: FALLS- BLS COLD*- 17-B-1  00027  WILLOW LA  X-STR: BEECHWOOD DR/ DEAD END Premise: 27 WILLOW LA
Madison: BACK PAIN- BLS COLD- 5-A-1  00463  SUMMER HILL RD  X-STR: -  RT 80 EAST/SHEPHERDS TRAIL Premise: CAMP LAURELWOOD
Madison: FALLS- BLS COLD- 17-A-1  00210  NECK RD  X-STR: -  Highland Ter/Ridgewood Ave Premise: 210 NECK RD
Madison: STROKE/ VISION AFF.- ALS HOT- 28-C-5  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: MEDICAL ASSISTANCE NEEDED  00027  HOTCHKISS LA  X-STR: -  Liberty St/DEAD END Premise: 27 HOTCHKISS LA
Madison: TRAUMA/ POSS SEVERE- BLS HOT- 30-B-1  00087  SURF CLUB RD  X-STR: Holly Park Rd/DEAD END Premise: SURF CLUB
Madison: FALLS- BLS COLD- 17-A-1  00019  PARDEE PL  X-STR: -  MIUNGERTOWN RD/SALEM RD Premise: 19 PARDEE PL
Madison: FALLS- BLS COLD*- 17-B-1  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: BREATHING DISTRESS - ALS HOT - 6-D-4  00012  AYLESBURY CIR  X-STR: -  COTTAGE RD/MAYBURY PL (WINDERMERE) Premise: 12 AYLESBURY CIR
Madison: UNCONS/FAINTING- NOT ALERT- ALS HOT- 31-D-3  00064  QUARRY LEDGE RD  X-STR: -   Premise: 64 QUARRY LEDGE
Madison: CHEST PAIN/ UNDER 35- BLS COLD- 10-A-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: MUTUAL AID - AMBULANCE GUILFRD  00400  CHURCH ST  X-STR: -   Premise: GUILFORD POLICE DEPARTMENT
Madison: CHEST PAIN - ALS HOT- 10-D-2  00600  GREEN HILL RD  X-STR: -  Kelsey Springs Dr/Buttonball Ln Premise: 600 GREEN HILL RD
Madison: FALL / UNCONS- 17-D-3  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: UNKN PROB/MAN DOWN- MEDIC ALERT- BLS HOT- 32-B-2  00017  FOREST RD  X-STR: -  Durham Rd/Fox Run Rd Premise: 17 FOREST RD
Madison: BREATHING PROBLEM- ALS HOT- 6-C-1   S I-95   X-STR: -   Premise: I-95 SB EXIT 60>GUILFORD LINE
Madison: BREATHING PROBLEM- ALS HOT- 6-C-1  00251  NECK RD  X-STR: -  Highland Ter/Ridgewood Ave Premise: 251 NECK RD
Madison: UNCONS/FAINTING- ABNORM BREATHING- ALS HOT- 31-C-1  00087  SURF CLUB RD  X-STR: -  Holly Park Rd/DEAD END Premise: SURF CLUB
Madison: MV ACCIDENT-INJURIES  HORSE POND RD/ DURHAM RD  X-STR:  Premise: HORSE POND RD/ DURHAM RD
Madison: FALL / UNCONS- 17-D-3  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: FALLS- BLS COLD*- 17-B-1  00090  HULL RD  X-STR: -  SAXON RD/JUNIPER LN Premise: 90 HULL RD
Madison: LIFT ASSIST - BLS COLD - 17-A-3  00002  ESTERLY FARMS RD  X-STR: -  DEAD END/Mungertown Rd Premise: 2 ESTERLY FARMS RD
Madison: FALLS- BLS COLD- 17-A-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: ANIMAL BITE/ NOT RECENT- BLS COLD- 3-A-2  00509  COUNTY RD  X-STR: -  Suffolk Dr/Summer Hill Rd Premise: 509 COUNTY RD
Madison: BLEEDING/ ABNORM BREATHING- ALS HOT- 21-D-3  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: CHOKING- ALS HOT- 11-D-1  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: UNCONS/FAINTING - ALS HOT - 31-D-4  00144  HARBOR AVE  X-STR: -  Neck Rd Premise: 144 HARBOR AVE
Madison: FALLS- BLS COLD*- 17-B-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: FALLS- BLS COLD- 17-A-1  00250  SAMSON ROCK DR  X-STR: Boston Post Rd/MEIGS AVE Premise: BANK OF AMERICA
Madison: INTERFACILITY/ NOT ALERT- ALS HOT- 33-C-1  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: HEAT/COLD EXPOSURE- ALS HOT- 20-C-1  02105  DURHAM RD  X-STR: -  DORSET LN/STEPHANIE CT Premise: 2105 DURHAM RD
Madison: FALLS- BLS COLD- 17-A-1  00039  GODMAN RD  X-STR: -  Warpas Rd/DEAD END Premise: 39 GODMAN RD
Madison: FALLS- BLS COLD*- 17-B-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: HEADACHE/ SEVERE- ALS HOT- 18-C-4  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: MEDICAL ASSISTANCE NEEDED  00042  LAWSON DR  X-STR: -  Madison Ave/DEAD END Premise: 42 LAWSON DR
Madison: SICK ALTERED LOC - ALS - 26-C-1  00037  BEACH AVE  X-STR: -  NECK RD/DEAD END Premise: 37 BEACH AVE
Madison: PSYCH/ NOT SUICIDAL- BLS COLD- 25-A-1  00021  HAMPSHIRE RD  X-STR: -  STRATHMORE/ESSEX (KENSINGTON NORTH) Premise: 21 HAMPSHIRE RD
Madison: DIABETIC/ NOT ALERT- ALS HOT- 13-C-1  00818  BOSTON POST RD  X-STR: -  SAMSON ROCK DR/EAST WHARF RD Premise: 818 BOSTON POST RD (BIRNBAUM LA)
Madison: MV ACCIDENT-INJURIES  DURHAM RD/ GREEN HILL RD  X-STR:  Premise: DURHAM RD/ GREEN HILL RD
Madison: MEDICAL ASSISTANCE NEEDED  00069  SEAVIEW AVE  X-STR: -  Grove Ave/Woodlawn Ave Premise: 69 SEAVIEW AVE
Madison: SICK/ NON SPECIFIC - BLS COLD- 26-A-1  00080  RIVER RD  X-STR: -   Premise: 80 RIVER RD
Madison: BURNS UNKN STATUS - BLS HOT - 7-B-1  00021  STONEWALL LA  X-STR: -  Deer Run Rd Premise: 21 STONEWALL LA
Madison: DIABETIC/ NOW ALERT- BLS COLD- 13-A-1  00234  NECK RD  X-STR: -  Highland Ter/Ridgewood Ave Premise: 234 NECK RD
Madison: SEIZURE- BREATHING NOT VERIF.- BLS HOT- 12-B-1  00463  SUMMER HILL RD  X-STR: -  RT 80 EAST/SHEPHERDS TRAIL Premise: CAMP LAURELWOOD
Madison: SICK/ NON SPECIFIC - BLS COLD- 26-A-1  00080  RIVER RD  X-STR: -   Premise: 80 RIVER RD
Madison: SICK/ NON SPECIFIC - BLS COLD- 26-A-1  00129  ACORN RD  X-STR: -  Scotland Rd/Forest Hills Rd Premise: 129 ACORN RD
Madison: LIFT ASSIST - BLS COLD - 17-A-3  00024  WILSHIRE RD  X-STR: -  Lovers Ln/LADSHAW DR  (KENSINGTON SO.) Premise: 24 WILSHIRE RD
Madison: SICK/ PAIN- BLS COLD- 26-A-8  00027  WILLOW LA  X-STR: BEECHWOOD DR/ DEAD END Premise: 27 WILLOW LA
Madison: SICK/ DIZZY- BLS COLD- 26-A-3  00041  WILSHIRE RD  X-STR: -  Ladshaw Dr/DEAD END (KENSINGTON SO.) Premise: 41 WILSHIRE RD
Madison: UNCONS/FAINTING- CARDIAC HIST.- ALS HOT- 31-C-2  00703  BOSTON POST RD  X-STR: -  DURHAM RD/WALL ST Premise: PETER INDORF JEWELERS
Madison: FALLS- BLS COLD- 17-A-1  00005  DEER CREEK DR  X-STR: GREEN HILL RD/DEAD END Premise: 5 DEER CREEK
Madison: UNCONS/FAINTING- NOT ALERT- ALS HOT- 31-D-3  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: TRANSP. ACCIDENT/ MINOR INJURIES- BLS COLD- 29-A-1  00178  WARPAS RD  X-STR: -  GODMAN RD/AMBER TRL Premise: 178 WARPAS RD
Madison: MUTUAL AID - AMBULANCE GUILFRD  MUTUAL AID- GUILFORD  X-STR: -   Premise: MUTUAL AID- GUILFORD
Madison: BREATHING DISTRESS- ALS HOT- 6-D-2  00056  New RD  X-STR: Birch Ln/Bishop Ln Premise: 00056  New RD
Madison: SICK ALTERED LOC - ALS - 26-C-1  00005  DEER CREEK DR  X-STR: -  GREEN HILL RD/DEAD END Premise: 5 DEER CREEK
Madison: FALLS- BLS COLD- 17-A-1  00023  BRADLEY RD  X-STR: -  COPSE RD/ACADEMY ST Premise: 23 BRADLEY RD
Madison: HEADACHE/ SEVERE- ALS HOT- 18-C-4  00070  WOODLAND RD  X-STR: Brantwood Dr/COPSE RD Premise: CONCORD MEADOWS
Madison: SICK/ ABNORMAL BREATHING - ALS - 26-C-2  01353  BOSTON POST RD  X-STR: DUDLEY LN/COTTAGE RD Premise: SHORELINE MEDICAL ASSOCIATES
Madison: FALLS- BLS COLD*- 17-B-1  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: BREATHING DISTRESS- ALS HOT- 6-D-2  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: HEART / UNKN STATUS- ALS - 19-C-7  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: MV ACCIDENT-INJURIES   S I-95   X-STR: -   Premise: I-95 SB EXIT 62>EXIT 61
Madison: SICK/ DIZZY- BLS COLD- 26-A-3  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: MEDICAL ASSISTANCE NEEDED  00105  WINDING RD  X-STR: -  WOODSVALE RD/WINDING RD LOOP Premise: 105 WINDING RD
Madison: UNKN PROB/MAN DOWN- MEDIC ALERT- BLS HOT- 32-B-2  00041  BEAVER POND RD  X-STR: -  ROLLING MEADOW/ROLLING MEADOW LOOP Premise: 41 BEAVER POND RD
Madison: MEDICAL ASSISTANCE NEEDED  00094  DUCK HOLE RD  X-STR: -  NEW RD/CAMPUS DR Premise: 94 DUCK HOLE RD
Madison: PSYCH/ THREAT OF SUICIDE- BLS HOT- 25-B-3  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: FALLS- BLS COLD- 17-A-1  BOSTON POST RD/ EAST WHARF RD  X-STR:  Premise: BOSTON POST RD/ EAST WHARF RD
Madison: FALLS- BLS COLD- 17-A-1  00009  CANBORNE WAY  X-STR: -  CURRYCROSS RD/DEAD END (WINDERMERE) Premise: 9 CANBORNE WAY
Madison: SICK/ - BLS COLD- 26-A-10  00009  CAMPUS DR  X-STR: -  DUCK HOLE RD /TOWN CAMPUS Premise: MADISON POLICE DEPARTMENT HQ
Madison: FALLS- BLS COLD- 17-A-1  00268  MUNGERTOWN RD  X-STR: -  Old Schoolhouse Rd/DEAD END Premise: 268 MUNGERTOWN RD
Madison: PSYCH/ SUICIDE- UNKN STATUS- BLS HOT- 25-B-6  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: FALLS/ NOT RECENT- BLS COLD- 17-A-2  00121  SUMMER HILL RD  X-STR: -  LENORE DR/HARKNESS DR Premise: 121 SUMMER HILL RD
Madison: HEART / UNKN STATUS- ALS - 19-C-7  00016  ESTERLY FARMS RD  X-STR: -  DEAD END/Mungertown Rd Premise: 16 ESTERLY FARMS RD
Madison: BREATHING DISTRESS- ALS HOT- 6-D-2  00463  SUMMER HILL RD  X-STR: -  RT 80 EAST/SHEPHERDS TRAIL Premise: CAMP LAURELWOOD
Madison: STROKE/ NOT ALERT- ALS HOT- 28-C-1  01080  BOSTON POST RD  X-STR: -  SUNNY HILL RD/SIGNAL HILL RD Premise: 1080 BOSTON POST RD
Madison: BREATHING DISTRESS- ALS HOT- 6-D-2  00038  WINDING RD  X-STR: -  Cornish Woods Rd/WINDING RD LOOP Premise: 38 WINDING RD
Madison: UNCONS/FAINTING- NOT ALERT- ALS HOT- 31-D-3  00043  WALL ST  X-STR: -  Boston Post Rd/Brookside Rd Premise: 43 WALL ST
Madison: LIFT ASSIST - BLS COLD - 17-A-3  00066  BEEKMAN PL  X-STR: -  SAINT JAMES CT/WINDSOR CR Premise: 66 BEEKMAN PL
Madison: ABDOMINAL PAIN- BLS COLD- 1-A-1  00056  New RD  X-STR: Birch Ln/Bishop Ln Premise: 00056  New RD
Madison: UNKN PROB/MAN DOWN- MEDIC ALERT- BLS HOT- 32-B-2  00052  SIGNAL HILL RD  X-STR: -  LAUREL CREST RD/MADRINA LN Premise: 52 SIGNAL HILL RD
Madison: SICK/ DIZZY- BLS COLD- 26-A-3  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: FALLS- BLS COLD- 17-A-1  00210  NECK RD  X-STR: -  Highland Ter/Ridgewood Ave Premise: 210 NECK RD
Madison: UNKN PROB/MAN DOWN- MEDIC ALERT- BLS HOT- 32-B-2  00064  BLINNSHED RD  X-STR: -  NUTMEG LN/PARTRIDGE LN Premise: 64 BLINNSHED RD
Madison: SICK ALTERED LOC - ALS - 26-C-1  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: HEART / UNKN STATUS- ALS - 19-C-7  00006  WOODLAND RD  X-STR: -  Durham Rd/Brantwood Dr Premise: 6 WOODLAND RD
Madison: SICK ALTERED LOC - ALS - 26-C-1  00284  SUMMER HILL RD  X-STR: -  LENORE DR/HARKNESS DR Premise: 284 SUMMER HILL RD
Madison: FALLS- BLS COLD- 17-A-1  00688  DURHAM RD  X-STR: -  WARPUS RD/CHESTNUT HILL Premise: 688 DURHAM RD
Madison: FAINTING NOW ALERT BLS COLD 31-A-1  00170  Boston Post RD  X-STR: Nathans Ln/Nathans Ln Premise: 00170  Boston Post RD
Madison: MV ACCIDENT-INJURIES  00277  DURHAM RD  X-STR: -  WELLSWEEP DR/WILDCAT RD Premise: 277 DURHAM RD
Madison: SICK/ ABNORMAL BREATHING - ALS - 26-C-2  00066  BEEKMAN PL  X-STR: -  SAINT JAMES CT/WINDSOR CR Premise: 66 BEEKMAN PL
Madison: SICK/ DIZZY- BLS COLD- 26-A-3  00009  CANBORNE WAY  X-STR: -  CURRYCROSS RD/DEAD END (WINDERMERE) Premise: 9 CANBORNE WAY
Madison: FALLS- BLS COLD- 17-A-1  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: FOCAL SEIZURE- NOT ALERT- ALS - 12-C-1  00002  HAMPSHIRE RD  X-STR: -  Lovers Ln/ESSEX LA (KENSINGTON NORTH) Premise: 2 HAMPSHIRE RD
Madison: SICK/ NON SPECIFIC - BLS COLD- 26-A-1  00130  DURHAM RD  X-STR: -  I-95 OVERPASS/HUNTERS TR Premise: COMMUTER LOT
Madison: BREATHING DISTRESS- ALS HOT- 6-D-2  00014  DOWNING WAY  X-STR: -  Aylesbury Cir/DEAD END (WINDERMERE) Premise: 14 DOWNING WAY
Madison: FALLS/ UNKN STATUS- BLS HOT- 17-B-3  00100  BRADLEY RD  X-STR: -  OLD ROUTE 79/WALL ST Premise: HEARTH AT TUXIS POND
Madison: MV ACCIDENT-INJURIES  00509  BOSTON POST RD (CATI)  X-STR: -  Cherry Ln/Britton Ln Premise: 00509  BOSTON POST RD (CATI)
Madison: FALLS- BLS COLD*- 17-B-1  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: BREATHING DISTRESS- ALS HOT- 6-D-2  01291  BOSTON POST RD  X-STR: -  MILL RD/DUDLEY LN Premise: MARQUIS TRACI J MD
Madison: BACK PAIN- BLS COLD- 5-A-1  00023  PRINCESS DR  X-STR: -  RT 79 NORTH/PRINCESS DR LOOP Premise: 23 PRINCESS DR
Madison: BURNS/ LESS THAN 18%- BLS HOT* 7-A-1  01301  BOSTON POST RD  X-STR: -  MILL RD/DUDLEY LN Premise: FISH TALE RESTAURANT
Madison: UNCONS/FAINTING- NOT ALERT- ALS HOT- 31-D-3  00004  SCHOOL ST  X-STR: -  Academy St/Island Ave Premise: ACADEMY STREET SCHOOL
Madison: ABDOMINAL PAIN- BLS COLD- 1-A-1  00065  BARTLETT DR  X-STR: -  WOODSVALE RD/PHEASENT LN Premise: 65 BARTLETT DR
Madison: MV ACCIDENT-INJURIES  00122  OPENING HILL RD  X-STR: -  KACHINA WAY/MANZONI FARMS Premise: 122 OPENING HILL RD
Madison: FALLS- BLS COLD- 17-A-1  00068  LANTERN HILL RD  X-STR: -  BOSTON POST RD/DEAD END Premise: 68 LANTERN HILL
Madison: SICK/ DIZZY- BLS COLD- 26-A-3  00028  HICKORY LA  X-STR: RT 80 WEST/RACE HILL RD Premise: 28 HICKORY LA
Madison: MEDICAL ASSISTANCE NEEDED  01320  BOSTON POST RD  X-STR: DUDLEY LN/COTTAGE RD Premise: DONAHUES MADISON BEACH GRILLE
Madison: CHEST PAIN - ALS HOT - 10-D-4  00012  LOVERS LA  X-STR: -  Boston Post Rd/Wilshire Rd Premise: 12 LOVERS LA
Madison: MV ACCIDENT-INJURIES  02174  DURHAM RD  X-STR: -  DORSET LN/STEPHANIE CT Premise: 2174 DURHAM RD
Madison: FALLS/ NOT RECENT- BLS COLD- 17-A-2  00009  NECK RD  X-STR: -  /Shorelands Dr Premise: WATROUS NURSING CENTER
Madison: STROKE/ SPEECH AFF. - ALS HOT- 28-C-3  00057 W MIDDLE BEACH RD  X-STR: -  WYNDY BROOK LN/WEST WHARF RD Premise: 57 MIDDLE BEACH WEST
Madison: SICK ALTERED LOC - ALS - 26-C-1  00034  WILDWOOD AVE  X-STR: -  RT-1/I-95 OVERPASS Premise: MADISON HOUSE CARE & REHAB
Madison: SICK/ DIZZY- BLS COLD- 26-A-3  00146  HARBOR AVE  X-STR: -  Neck Rd Premise: 146 HARBOR AVE

*/

public class CTMadisonParser extends SmartAddressParser {
  
  private static final Pattern MASTER = 
      Pattern.compile("Madison: (.*?) +X-STR:(?: +-)? +(.*?) +Premise: 0*(.*)");
  private static final Pattern CODE_PTN = Pattern.compile("- (\\d{1,2}-[A-Z]-\\d) +0*|  +0*| 0+");
  
  public CTMadisonParser() {
    super("MADISON", "CT");
  }

  @Override
  public String getFilter() {
    return "mdsn911@gmail.com";
  }
  
  @Override
  public boolean parseMsg(String body, Data data) {
    Matcher match = MASTER.matcher(body);
    if (!match.matches()) return false;
    String sAddr = match.group(1).trim();
    String cross = match.group(2).trim();
    if (cross.startsWith("/")) cross = cross.substring(1).trim();
    String place = match.group(3).trim();
    
    match = CODE_PTN.matcher(sAddr);
    if (match.find()) {
      data.strCall = sAddr.substring(0,match.start()).trim();
      data.strCode = getOptGroup(match.group(1));
      sAddr = sAddr.substring(match.end()).trim();
      parseAddress(sAddr.replaceAll("  +", " "), data);
    } else {
      parseAddress(StartType.START_CALL, FLAG_ANCHOR_END, sAddr, data);
      sAddr = data.strAddress.replace(" & ", "/ ");
    }
    data.strCross = cross;
    sAddr = sAddr.replace(" ", "");
    if (!place.replace(" ", "").equalsIgnoreCase(sAddr)) data.strPlace = place;
    return true;
  }

  @Override
  public String adjustMapAddress(String sAddress) {
    int pt = sAddress.indexOf('(');
    if (pt >= 0) sAddress = sAddress.substring(0,pt).trim();
    return sAddress;
  }
  
}
